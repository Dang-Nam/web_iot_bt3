<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/ad82870d-6850-4ad0-beb6-6020dc0a0d92" /><img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/e2d5e015-1a86-4b76-9d2f-08be011f5480" /># web_iot_bt3


<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/8ffddff7-f7fc-4e8e-a21b-3431039395f7" />
Tạo thư mục dự án và các thư mục con

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/20ae66a2-64b2-4fe7-b172-8bcd38cf1a17" />
<img width="1037" height="448" alt="image" src="https://github.com/user-attachments/assets/2fe1c250-2943-4e3e-b7a6-f3e00108e28b" />
tạo file docker-compose.yml 

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/8f3166d6-3841-4be8-b5e0-d4bb7a8f2490" />
<img width="1920" height="341" alt="image" src="https://github.com/user-attachments/assets/fd73051d-6661-466e-8abe-71b5a5440a88" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/879e47ac-44d9-438a-affc-d946cd8efdf2" />
CHẠY DOCKER bằng lệnh "docker-compose down" ở đây em sử dụng cổng 8081 thay cho 8080 

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/f9e56734-ca55-420e-a71e-3bab1243557a" />
thêm tên miền 127.0.0.1 dangphuongnam.com

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/68f37e8e-3ad1-4527-878b-b80dadcc79be" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/f1e75e52-ef2c-4426-8333-05da8bef09da" />
tạo file index.html + test nhẹ

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/6e9b4907-a8e7-49e2-bce7-e0e466d4f90c" />
TẠO DB + BẢNG MỚI

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/cd1c72ad-e16e-494f-aa5a-dbfe4b31cedf" />
mở NODE RED
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/32f607ca-4d12-4e39-b865-1262259a9623" />
CÀI NODE node-red dùng trong bài 

TẠO API LOGIN
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/3a0664e7-d7c6-4e08-9795-a429020a93d9" />
POST /api/login
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/51d56a97-2fe1-40a4-b3ff-f2283c8a5b6c" />
function Check nam/123
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/ebf218d7-4c93-452c-88e6-8ba02390815a" />
Output 1 (thành công)
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/bf1e6a43-4289-4d8b-acb3-26b5c40d7ed6" />
Output 2 (thất bại)

TẠO API LẤY DỮ LIỆU CẢM BIẾN
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/2a210204-7ab7-4715-b4c9-bfdea252d02b" />
httpin GET /api/sensors
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/922d9af1-110d-4a04-86fd-67ada09f36e2" />
function Check Token
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/b0335eeb-2255-4226-9a94-41b99f0e4f4c" />
mysql_node
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/494ca557-41df-4e09-a0b7-836c9c2c306e" />
dunction Format JSON
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/f63be22d-c48e-4e15-a56b-5f64b39132db" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/8e1e57cf-23a0-485a-8d3f-4f3b80806c7c" />
2 node http response 200 và 401
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/d66a78ef-6552-4b24-bf20-0f529c186776" />
nối các node 
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/fe942ab2-fc26-4b25-9df2-101e2a8a25b8" />
RA 404 → NGINX CHƯA CHUYỂN YÊU CẦU TỚI NODE-RED!


<img width="1390" height="147" alt="image" src="https://github.com/user-attachments/assets/232ecb68-178b-4a70-bd25-3ff25ba67263" />
test login
<img width="1407" height="144" alt="image" src="https://github.com/user-attachments/assets/eae0c4e6-a64a-4eff-9064-3f82454edaeb" />
test sensers

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/575b7200-b5e8-4cab-a66b-2ea9e4c482e3" />
TẠO DATASOURCE

NODE-RED + INFLUXDB + GRAFANA

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/aed369ca-1926-4eee-bc72-c856166d1eb2" />
InfluxDB
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/7639d2e4-eb26-4fc4-ab4f-0586da4c0860" />
Every 10s
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/95ece487-324d-45b9-8bd3-2e522059dbc0" />
Lấy Sensors
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/d7cce230-cdaf-4702-a570-e20b6a392cdb" />
Format Influx
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/eebd6757-49a4-40fb-a974-b269c52cfb78" />
Write to InfluxDB

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/fd0130e1-2be0-4c08-9fc1-63a6465ff407" />



<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/a150cd2b-a761-46aa-9194-8381adb0b244" />
TẠO USER + TOKEN TRONG INFLUXDB
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/150c4a12-8ed4-41b7-9fc0-80b1720bd927" />
tạo mới bucket iot_data

token: 
QS18UAphS750fGRR-tAMhpj2kilDmoyF2_5YjRHHYJXqJguqRNEWcHd0zKm9ko_RNL8SSZGMuaSvAAXgUFcg-Q==

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/d77a3e91-40a8-4a0e-a7d6-7d34cbf93be3" />
sửa InfluxDB
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/ff024e45-f912-4b7a-93e8-61e7f42c1593" />
SỬA DATASOURCE → DÙNG TOKEN
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/62b2be21-1426-4be3-ab4d-9172732bb905" />
save and test


 <img width="1918" height="167" alt="image" src="https://github.com/user-attachments/assets/12f478d1-7c41-487f-b309-842e7b3b2afa" />
test lại api
